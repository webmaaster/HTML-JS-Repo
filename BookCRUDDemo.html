<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
<h1>LIST OF BOOKS</h1>
<table id="bookDisplay" border=1>
<script>
var allBooks = [
	{
		id: 101,
		book_title: "Harry Potter and the Prisoner of Azkaban",
		book_author: "J.K.Rowling",
		book_genre: "Fiction",
		book_cost: 20,
		book_image_url: "",
		book_removed: false
	},
	{
		id: 102,
		book_title: "Harry Potter and the Goblet of Fire",
		book_author: "J.K.Rowling",
		book_genre: "Fiction",
		book_cost: 25,
		book_image_url: "",
		book_removed: false
	},
	{
		id: 103,
		book_title: "Harry Potter and the Half Blood Prince",
		book_author: "J.K.Rowling",
		book_genre: "Fiction",
		book_cost: 40,
		book_image_url: "",
		book_removed: false
	}
];

// wrapped this code into a function so that we can reload the data again
function loadBook(){
	document.getElementById("bookDisplay").innerHTML = `<tr>
		<th>ID</th>
		<th>BOOK TITLE</th>
		<th>BOOK AUTHOR</th>
		<th>BOOK GENRE</th>
		<th>BOOK COST</th>
		<th></th>
	</tr>`;

	allBooks.forEach((book)=>{
	document.getElementById("bookDisplay").innerHTML += `
		<tr>
		<td>${book.id}</td>
		<td>${book.book_title}</td>
		<td>${book.book_author}</td>
		<td>${book.book_genre}</td>
		<td>${book.book_cost}</td>
		<td><button type="button" onclick="removeBook(${book.id})">-</button></td>
		</tr>`;
		});	
}

loadBook();

function removeBook(bookId){
	alert(bookId);
	// logic to remove the book with matching bookId
	allBooks.forEach((book, index)=> {
		if(book.id == bookId){
			allBooks.splice(index, 1);
		}
	})
	// reload the data
	loadBook();
}
</script>
</body>
</html>